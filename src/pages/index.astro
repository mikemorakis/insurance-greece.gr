---
import BaseLayout from '../layouts/BaseLayout.astro';
import HeroQuoteSelector from '../components/ui/HeroQuoteSelector';
import FAQAccordion from '../components/ui/FAQAccordion';
import Picture from '../components/ui/Picture.astro';
import { SERVICE_TYPES } from '../data/navigation';
import { SITE_CONFIG } from '../data/site-config';
import { homepageFaqs } from '../data/faqs';
---
<BaseLayout
  title="Insurance Greece - Expert Insurance for Expats in Greece"
  description="Expert insurance services for expats living in Greece. Health, car, home, travel, boat, and residence permit insurance. English-speaking support. Get a free quote!"
  canonical="/"
  jsonLd={[
    {
      '@context': 'https://schema.org',
      '@type': 'Organization',
      name: SITE_CONFIG.name,
      url: SITE_CONFIG.url,
      logo: SITE_CONFIG.logo,
      contactPoint: { '@type': 'ContactPoint', telephone: SITE_CONFIG.contact.phone, contactType: 'customer service', email: SITE_CONFIG.contact.email, availableLanguage: ['English', 'Greek'] },
      address: { '@type': 'PostalAddress', streetAddress: 'Sikelianou 9', addressLocality: 'Crete', postalCode: '74100', addressCountry: 'GR' },
      sameAs: [SITE_CONFIG.social.facebook],
    },
    {
      '@context': 'https://schema.org',
      '@type': 'FAQPage',
      mainEntity: homepageFaqs.map(faq => ({ '@type': 'Question', name: faq.question, acceptedAnswer: { '@type': 'Answer', text: faq.answer.replace(/<[^>]*>/g, '') } })),
    },
  ]}
>
  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <div class="hero-content">
        <h1>Insurance Made Simple for Expats in Greece</h1>
        <p>Expert insurance services in English. Health, car, home, travel, and more. We handle the Greek bureaucracy so you don't have to.</p>
        <HeroQuoteSelector client:load />
      </div>
    </div>
  </section>

  <!-- Services Section -->
  <section class="section section-alt">
    <div class="container">
      <div class="section-title">
        <h2>Our Insurance Services</h2>
        <p>Comprehensive insurance solutions tailored for expats living in Greece. All services available in English.</p>
      </div>
      <div class="services-grid">
        {SERVICE_TYPES.map((service) => (
          <a href={`/insurance-services/${service.slug}/`} class="service-card">
            <div class="service-image">
              <Picture src={service.image} alt={service.name} loading="lazy" />
            </div>
            <div class="service-content">
              <h3>{service.name}</h3>
              <p>Learn more about {service.name.toLowerCase()} options for expats in Greece.</p>
            </div>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- Why Choose Us Section -->
  <section class="section">
    <div class="container">
      <div class="section-title">
        <h2>Why Choose Insurance Greece?</h2>
        <p>We make insurance simple, transparent, and accessible for expats.</p>
      </div>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
          </div>
          <h3>English Support</h3>
          <p>All communication in English. No Greek language skills required.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
          </div>
          <h3>Expert Guidance</h3>
          <p>Years of experience helping expats navigate Greek insurance.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
          </div>
          <h3>Compare Options</h3>
          <p>We compare multiple insurers to find your best rates.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
          </div>
          <h3>Claims Support</h3>
          <p>We assist with all claims and communication with insurers.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="section section-alt">
    <div class="container">
      <div class="section-title">
        <h2>Frequently Asked Questions</h2>
        <p>Common questions about insurance for expats in Greece.</p>
      </div>
      <div class="faq-container">
        <FAQAccordion client:visible faqs={homepageFaqs} />
      </div>
    </div>
  </section>
</BaseLayout>

<style>
.hero { background: linear-gradient(rgba(15,23,42,0.7), rgba(30,41,59,0.75)), url('/images/insurance-greece-24.jpg') center/cover no-repeat; color: var(--white); min-height: 70vh; display: flex; align-items: center; text-align: center; }
.hero-content { max-width: 800px; margin: 0 auto; }
.hero-content h1 { font-size: var(--font-size-5xl); margin-bottom: var(--spacing-4); color: var(--white); text-shadow: 0 2px 4px rgba(0,0,0,0.3); }
.hero-content p { font-size: var(--font-size-xl); color: var(--gray-300); margin-bottom: var(--spacing-8); }
.services-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--spacing-6); }
.service-card { display: flex; flex-direction: column; background: var(--white); border-radius: var(--radius-xl); box-shadow: var(--shadow-md); overflow: hidden; transition: transform var(--transition-base), box-shadow var(--transition-base); text-decoration: none; }
.service-card:hover { transform: translateY(-4px); box-shadow: var(--shadow-xl); }
.service-image { position: relative; width: 100%; height: 180px; overflow: hidden; }
.service-image img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease; }
.service-card:hover .service-image img { transform: scale(1.05); }
.service-content { padding: var(--spacing-5) var(--spacing-4); text-align: center; }
.service-card h3 { font-size: var(--font-size-lg); margin-bottom: var(--spacing-2); color: var(--brand-dark); }
.service-card p { font-size: var(--font-size-sm); color: var(--color-text-light); margin-bottom: 0; }
.features-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--spacing-6); }
.feature-card { text-align: center; padding: var(--spacing-6); }
.feature-icon { width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; background: var(--color-background-alt); border-radius: var(--radius-full); margin: 0 auto var(--spacing-4); color: var(--brand-orange); }
.feature-card h3 { font-size: var(--font-size-lg); margin-bottom: var(--spacing-2); }
.feature-card p { font-size: var(--font-size-sm); color: var(--color-text-light); margin-bottom: 0; }
.faq-container { max-width: 800px; margin: 0 auto; }
@media (max-width: 1024px) { .services-grid, .features-grid { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 768px) { .hero { min-height: 70vh; padding: var(--spacing-8) 0; } .hero-content h1 { font-size: var(--font-size-3xl); } .hero-content p { font-size: var(--font-size-base); } .services-grid, .features-grid { grid-template-columns: 1fr; } }
</style>
